{"version":3,"sources":["reportWebVitals.js","i18n.js","components/Input.js","components/ButtonWithProgress.js","shared/ApiProgress.js","redux/Constants.js","api/apiCalls.js","redux/authActions.js","pages/UserSignupPage.js","pages/LoginPage.js","components/LanguageSelector.js","assets/profile.png","components/ProfileImageWithDefault.js","components/UserListItem.js","components/Spinner.js","components/UserList.js","components/AutoUploadImage.js","components/HoaxSubmit.js","components/Modal.js","components/HoaxView.js","components/HoaxFeed.js","pages/HomePage.js","components/ProfileCard.js","pages/UserPage.js","assets/hoaxify.png","components/TopBar.js","container/App.js","redux/authReducer.js","redux/configureStore.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","i18n","use","initReactI18next","init","resources","en","translations","tr","fallbackLng","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","register","number","index","Input","props","label","error","name","onChange","type","defaultValue","className","undefined","ButtonWithProgress","onClick","pendingApiCall","disabled","text","useApiProgress","apiMethod","apiPath","strictPath","useState","setPendingApiCall","useEffect","requestInterceptor","responseInterceptor","updateApiCallFor","method","url","inProgress","startsWith","axios","interceptors","request","response","config","eject","LOGOUT_SUCCESS","LOGIN_SUCCESS","UPDATE_SUCCESS","getUsers","page","size","get","setAuthorizationHeader","isLoggedIn","token","authorizationHeaderValue","defaults","headers","getUser","username","updateUser","body","put","postHost","hoax","post","getHoaxes","path","getOldHoaxes","id","getNewHoaxCount","getNewHoaxes","postHoaxAttachment","attachment","deleteHoax","delete","deleteUser","logoutSuccess","dispatch","a","ACTIONS","loginSuccess","authState","payload","updateSuccess","displayName","image","loginHandler","credentials","creds","data","user","password","signupHandler","UserSignupPage","passwordRepeatError","passwordRepeat","form","setForm","errors","setErrors","useDispatch","t","useTranslation","event","target","value","previousErrors","previousForm","onClickSignup","preventDefault","history","push","validationErrors","usernameError","displayNameError","passwordError","pendingApiCallSignup","pendingApiCallLogin","LoginPage","setUsername","setPassword","setError","onClickLogin","message","buttonEnabled","LanguageSelector","onChangeLanguage","language","changeLanguage","src","alt","style","cursor","ProfileImageWithDefault","tempimage","imageSource","defaultPicture","onError","UserListItem","to","width","height","Spinner","UserList","content","setPage","loadFailure","setLoadFailure","loadUsers","users","last","first","actionDiv","previousPage","nextPage","map","AutoUploadImage","uploading","position","opacity","HoaxSubmit","useSelector","store","focused","setFocused","setHoax","newImage","setNewImage","attachmentId","setAttachmentId","pendingFileUpload","onClickHoaxify","uploadFile","file","FormData","append","textAreaClass","rows","onFocus","files","length","fileReader","FileReader","onloadend","result","readAsDataURL","Modal","visible","onClickCancel","onClickOk","onClickOkText","title","backgroundColor","HoaxView","loggedInUser","onDeleteHoax","timestamp","fileAttachment","modalVisible","setModalVisible","onClickDelete","formatted","format","ownedByLoggedInUser","fileType","HoaxFeed","hoaxPage","setHoaxPage","newHoaxCount","setNewHoaxCount","useParams","initialHoaxLoadProgress","lastHoaxId","firstHoaxId","lastHoaxIndex","oldHoaxPath","loadOldHoaxesProgress","newHoaxPath","loadNewHoaxesProgress","looper","setInterval","count","clearInterval","previousHoaxPage","loadHoaxes","loadOldHoaxes","loadNewHoaxes","onDeleteHoaxSuccess","filter","HomePage","ProfileCard","inEditMode","setInEditMode","updatedDisplayName","setUpdatedDisplayName","loggedInUsername","pathUsername","setUser","editable","setEditable","setValidationErrors","useHistory","previousValidationErrors","pendingApiCallDeleteUser","onClickSave","split","onClickDeleteUser","imageError","UserPage","notFound","setNotFound","loadUser","fontSize","TopBar","menuArea","useRef","menuVisible","setMenuVisible","document","addEventListener","menuClickTracker","removeEventListener","current","contains","links","dropDownClass","ref","logo","App","exact","component","defaultState","authReducer","state","action","secureLs","SecureLS","initialState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","subscribe","newState","getState","set","configureStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f9a97826.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport { register } from \"timeago.js\";\r\n\r\ni18n.use(initReactI18next).init({\r\n    resources: {\r\n        en: {\r\n            translations: {\r\n                'Sign Up': 'Sign Up',\r\n                \"Password mismatch\": \"Password mismatch\",\r\n                \"Username\": \"Username\",\r\n                \"Display Name\": \"Display Name\",\r\n                \"Password\": \"Password\",\r\n                \"Password Repeat\": \"Password Repeat\",\r\n                \"Login\": \"Login\",\r\n                \"Logout\": \"Logout\",\r\n                \"Users\": \"Users\",\r\n                \"Next\": \"next >\",\r\n                \"Previous\": \"< previous\",\r\n                \"Load Failure\": \"Load Failure\",\r\n                \"User not found\": \"User not found\",\r\n                \"Edit\": \"Edit\",\r\n                \"Save\": \"Save\",\r\n                \"Cancel\": \"Cancel\",\r\n                \"Change Display Name\": \"Change Display Name\",\r\n                \"My Profile\": \"My Profile\",\r\n                \"There are no hoaxes\": \"There are no hoaxes\",\r\n                \"Load old hoaxes\": \"Load old hoaxes\",\r\n                \"There are new hoaxes\": \"There are new hoaxes\",\r\n                \"Delete Hoax\": \"Delete Hoax\",\r\n                \"Are you sure to delete hoax?\": \"Are you sure to delete hoax?\",\r\n                \"Delete My Account\": \"Delete My Account\",\r\n                \"Are you sure to delete your account?\": \"Are you sure to delete your account?\",\r\n                \"Delete Profil Image\": \"Delete Profil Image\"\r\n            }\r\n        },\r\n        tr: {\r\n            translations: {\r\n                'Sign Up': 'Kayıt Ol',\r\n                \"Password mismatch\" : \"Aynı şifreyi giriniz\",\r\n                \"Username\": \"Kullanıcı Adı\",\r\n                \"Display Name\": \"Tercih Edilen İsim\",\r\n                \"Password\": \"Şifre\",\r\n                \"Password Repeat\": \"Şifreyi Tekrarla\",\r\n                \"Login\": \"Giriş Yap\",\r\n                \"Logout\": \"Çıkış Yap\",\r\n                \"Users\": \"Kullanıcılar\",\r\n                \"Next\": \"sonraki >\",\r\n                \"Previous\": \"< önceki\",\r\n                \"Load Failure\": \"Liste alınamadı\",\r\n                \"User not found\": \"Kullanıcı bulunamadı\",\r\n                \"Edit\": \"Düzenle\",\r\n                \"Save\": \"Kaydet\",\r\n                \"Cancel\": \"İptal Et\",\r\n                \"Change Display Name\": \"Görünür İsminizi Değiştirin\",\r\n                \"My Profile\": \"Hesabım\",\r\n                \"There are no hoaxes\": \"Hoax bulunamadı\",\r\n                \"Load old hoaxes\": \"Geçmiş hoaxları getir\",\r\n                \"There are new hoaxes\": \"Yeni hoaxlar var\",\r\n                \"Delete Hoax\": \"Hoax'u Sil\",\r\n                \"Are you sure to delete hoax?\": \"Hoax'u silmek istediğinizden emin misiniz?\",\r\n                \"Delete My Account\": \"Hesabımı Sil\",\r\n                \"Are you sure to delete your account?\": \"Hesabınızı silmek istediğinize emin misiniz?\",\r\n                \"Delete Profil Image\": \"Profil Resmini Sil\"\r\n\r\n            }\r\n        }\r\n    },\r\n    fallbackLng: 'en',\r\n    ns: ['translations'],\r\n    defaultNS: 'translations',\r\n    keySeparator: false,\r\n    interpolation: {\r\n        escapeValue: false,\r\n        formatSeparator: \",\"\r\n    },\r\n    react: {\r\n        wait: true\r\n    }\r\n});\r\n\r\nconst timeageTR = (number, index) => {\r\n  return [\r\n    ['az önce', 'şimdi'],\r\n    ['%s saniye önce', '%s saniye içinde'],\r\n    ['1 dakika önce', '1 dakika içinde'],\r\n    ['%s dakika önce', '%s dakika içinde'],\r\n    ['1 saat önce', '1 saat içinde'],\r\n    ['%s saat önce', '%s saat içinde'],\r\n    ['1 gün önce', '1 gün içinde'],\r\n    ['%s gün önce', '%s gün içinde'],\r\n    ['1 hafta önce', '1 hafta içinde'],\r\n    ['%s hafta önce', '%s hafta içinde'],\r\n    ['1 ay önce', '1 ay içinde'],\r\n    ['%s ay önce', '%s ay içinde'],\r\n    ['1 yıl önce', '1 yıl içinde'],\r\n    ['%s yıl önce', '%s yıl içinde']\r\n  ][index];\r\n}\r\nregister(\"tr\", timeageTR);\r\n\r\nexport default i18n;","import React from 'react';\r\n\r\nconst Input = (props) => {\r\n    const {label, error, name, onChange, type, defaultValue} = props\r\n    let className = \"form-control\";\r\n\r\n    // if(type === \"file\") {\r\n    //   className += \"-file\";\r\n    // }\r\n\r\n    if(error !== undefined) {\r\n      className += \" is-invalid\";\r\n    }\r\n    return(\r\n        <div className=\"form-group\">\r\n            <label>{label}</label>\r\n            <input className={className} name={name} onChange={onChange} type={type} defaultValue={defaultValue} />\r\n            <div className=\"invalid-feedback\">{error}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nconst ButtonWithProgress = (props) => {\r\n\r\nconst { onClick, pendingApiCall, disabled, text, className } = props;\r\n\r\n  return (\r\n    <button className={className || \"btn btn-primary\"} onClick={onClick} disabled={disabled}>\r\n      {pendingApiCall && <span className=\"spinner-border spinner-border-sm\"></span>}\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ButtonWithProgress;","import React, { useEffect, useState } from 'react';\r\nimport axios from \"axios\";\r\n\r\nexport const useApiProgress = (apiMethod, apiPath, strictPath) => {\r\n  const [pendingApiCall, setPendingApiCall] = useState(false);\r\n  useEffect(() => {\r\n    let requestInterceptor, responseInterceptor;\r\n\r\n    const updateApiCallFor = (method, url, inProgress) => {\r\n      if(method !== apiMethod) {\r\n        return;\r\n      }\r\n      if(strictPath && url === apiPath) {\r\n        setPendingApiCall(inProgress);\r\n      } else if(!strictPath && url.startsWith(apiPath)){\r\n        setPendingApiCall(inProgress);\r\n      }\r\n    };\r\n\r\n    const registerInterceptors = () => {\r\n      requestInterceptor = axios.interceptors.request.use((request) => {\r\n        const { url, method } = request;\r\n        updateApiCallFor(method, url, true);\r\n        return request;\r\n      });\r\n  \r\n      responseInterceptor = axios.interceptors.response.use((response) =>{\r\n        const { url, method } = response.config;\r\n        updateApiCallFor(method, url, false);\r\n        return response;\r\n      }, (error) =>{\r\n        const { url, method } = error.config;\r\n        updateApiCallFor(method, url, false);\r\n        throw error;\r\n      });\r\n    };\r\n\r\n    const unregisterInterceptors = () => {\r\n      axios.interceptors.request.eject(requestInterceptor);\r\n      axios.interceptors.response.eject(responseInterceptor);\r\n    }\r\n\r\n    registerInterceptors();\r\n    return function unmount() {\r\n      unregisterInterceptors();\r\n    }\r\n  }, [apiPath, apiMethod, strictPath]);\r\n  return pendingApiCall;\r\n};","export const LOGOUT_SUCCESS = \"logout-success\";\r\nexport const LOGIN_SUCCESS = \"login-success\";\r\nexport const UPDATE_SUCCESS = \"update-success\";","import axios from \"axios\";\r\n\r\n export const signup = (body) => {\r\n    return axios.post('/api/1.0/users', body);\r\n};\r\n\r\nexport const login = creds => {\r\n  return axios.post(\"/api/1.0/auth\", creds);\r\n};\r\n\r\nexport const logout = () => {\r\n  return axios.post(\"/api/1.0/logout\");\r\n};\r\n\r\nexport const changeLanguage = language => {\r\n  axios.defaults.headers['accept-language'] = language;\r\n};\r\n\r\nexport const getUsers = (page = 0, size = 3) => {\r\n  return axios.get(`/api/1.0/users?page=${page}&size=${size}`);\r\n};\r\n\r\nexport const setAuthorizationHeader = ({ isLoggedIn, token }) => {\r\n  if(isLoggedIn) {\r\n    const authorizationHeaderValue = `Bearer ${token}`;\r\n    axios.defaults.headers[\"Authorization\"] = authorizationHeaderValue;\r\n  } else {\r\n    delete axios.defaults.headers[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport const getUser = username => {\r\n  return axios.get(`/api/1.0/users/${username}`);\r\n};\r\n\r\nexport const updateUser = (username, body) => {\r\n  return axios.put(`/api/1.0/users/${username}`, body);\r\n};\r\n\r\nexport const postHost = hoax => {\r\n  return axios.post(\"/api/1.0/hoaxes\", hoax);\r\n};\r\n\r\nexport const getHoaxes = (username, page = 0) => {\r\n  const path = username ? `/api/1.0/users/${username}/hoaxes?page=` : \"/api/1.0/hoaxes?page=\";\r\n  return axios.get(path + page);\r\n};\r\n\r\nexport const getOldHoaxes = (id, username) => {\r\n  const path = username ? `/api/1.0/users/${username}/hoaxes/${id}` : `/api/1.0/hoaxes/${id}`;\r\n  return axios.get(path);\r\n};\r\n\r\nexport const getNewHoaxCount = (id, username) => {\r\n  const path = username ? `/api/1.0/users/${username}/hoaxes/${id}?count=true` : `/api/1.0/hoaxes/${id}?count=true`;\r\n  return axios.get(path);\r\n};\r\n\r\nexport const getNewHoaxes = (id, username) => {\r\n  const path = username ? `/api/1.0/users/${username}/hoaxes/${id}?direction=after` : `/api/1.0/hoaxes/${id}?direction=after`;\r\n  return axios.get(path);\r\n};\r\n\r\nexport const postHoaxAttachment = attachment => {\r\n  return axios.post(\"/api/1.0/hoax-attachments\", attachment);\r\n};\r\n\r\nexport const deleteHoax = id => {\r\n  return axios.delete(`/api/1.0/hoaxes/${id}`);\r\n};\r\n\r\nexport const deleteUser = username => {\r\n  return axios.delete(`/api/1.0/users/${username}`);\r\n}","import * as ACTIONS from \"./Constants\";\r\nimport { login, signup, logout } from \"../api/apiCalls\";\r\n\r\nexport const logoutSuccess = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      await logout();\r\n    } catch (error) {\r\n  \r\n    }\r\n    dispatch({\r\n      type: ACTIONS.LOGOUT_SUCCESS\r\n    })\r\n  }\r\n};\r\n\r\nexport const loginSuccess = authState => {\r\n  return {\r\n    type: ACTIONS.LOGIN_SUCCESS,\r\n    payload: authState\r\n  };\r\n};\r\n\r\nexport const updateSuccess = ({ displayName, image }) => {\r\n  return {\r\n    type: ACTIONS.UPDATE_SUCCESS,\r\n    payload: {\r\n      displayName,\r\n      image\r\n    }\r\n  };\r\n};\r\n\r\nexport const loginHandler = (credentials) => {\r\n  return async function(dispatch) {\r\n    const response = await login(credentials);\r\n    const authState = {\r\n      ...response.data.user,\r\n      password: credentials.password,\r\n      token: response.data.token\r\n    };\r\n    dispatch(loginSuccess(authState));\r\n    return response;\r\n  };      \r\n};\r\n\r\nexport const signupHandler = (user) => {\r\n  return async function(dispatch) {\r\n    const response = await signup(user);\r\n    await dispatch(loginHandler(user));\r\n    return response;\r\n  }\r\n}","import React, { useState } from 'react';\r\nimport Input from '../components/Input';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ButtonWithProgress from '../components/ButtonWithProgress';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { signupHandler } from '../redux/authActions';\r\n\r\n\r\nconst UserSignupPage = (props) => {\r\n  const [form, setForm] = useState({\r\n    username: null,\r\n    displayName: null,\r\n    password: null,\r\n    passwordRepeat: null\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const dispatch = useDispatch();\r\n  const { t } = useTranslation();\r\n  \r\n  const onChange = event => {\r\n    const {name, value} = event.target;\r\n    setErrors((previousErrors) => ({...previousErrors, [name]: undefined}));\r\n    setForm((previousForm) => ({...previousForm, [name]: value}));\r\n  };\r\n\r\n  const onClickSignup = async event => {\r\n      event.preventDefault();\r\n\r\n      const { history } = props;\r\n      const { push } = history;\r\n      const { username, displayName, password } = form;\r\n\r\n      const body = {\r\n          username,\r\n          displayName,\r\n          password\r\n      };\r\n\r\n      try{\r\n        await dispatch(signupHandler(body));\r\n        push(\"/\");\r\n      } catch(error){\r\n          if(error.response.data.validationErrors){\r\n            setErrors(error.response.data.validationErrors);\r\n          }\r\n      }\r\n  };\r\n\r\n  const { username: usernameError, displayName: displayNameError, password: passwordError} = errors;\r\n  const pendingApiCallSignup = useApiProgress(\"post\", \"/api/1.0/users\");\r\n  const pendingApiCallLogin = useApiProgress(\"post\", \"/api/1.0/auth\");\r\n\r\n  const pendingApiCall = pendingApiCallSignup || pendingApiCallLogin;\r\n  \r\n  let passwordRepeatError;\r\n  if(form.password !== form.passwordRepeat) {\r\n    passwordRepeatError = t(\"Password mismatch\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form>\r\n        <h1 className=\"text-center\">{t('Sign Up')}</h1>\r\n        <Input name=\"username\" label={t(\"Username\")} error={usernameError} onChange={onChange} />\r\n        <Input name=\"displayName\" label={t(\"Display Name\")} error={displayNameError} onChange={onChange} />\r\n        <Input name=\"password\" label={t(\"Password\")} error={passwordError} onChange={onChange} type=\"password\" />\r\n        <Input name=\"passwordRepeat\" label={t(\"Password Repeat\")} error={passwordRepeatError} onChange={onChange} type=\"password\" />\r\n        <div className=\"text-center\">\r\n          <ButtonWithProgress onClick={onClickSignup} disabled={pendingApiCall || passwordRepeatError !== undefined} pendingApiCall={pendingApiCall} text={t(\"Sign Up\")} />\r\n        </div>\r\n      </form>\r\n    </div>   \r\n  );\r\n}\r\n\r\nexport default UserSignupPage;","import React, { useEffect, useState } from \"react\";\r\nimport Input from \"../components/Input\";\r\nimport { useTranslation } from 'react-i18next'\r\nimport ButtonWithProgress from \"../components/ButtonWithProgress\";\r\nimport { useApiProgress } from \"../shared/ApiProgress\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loginHandler } from \"../redux/authActions\";\r\n\r\nconst LoginPage = (props) => {\r\n  const [username, setUsername] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState();\r\n  \r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setError(undefined);\r\n  }, [username, password]);\r\n\r\n  const onClickLogin = async event => {\r\n    event.preventDefault();\r\n    const creds = {\r\n      username,\r\n      password\r\n    };\r\n\r\n    const { history } = props;\r\n    const { push } = history;\r\n\r\n    setError(undefined);\r\n    try {\r\n      await dispatch(loginHandler(creds))\r\n      push(\"/\");\r\n    } catch (apiError) {\r\n      setError(apiError.response.data.message)\r\n    }\r\n  }\r\n\r\n  const { t } = useTranslation();\r\n  const pendingApiCall = useApiProgress(\"post\", \"/api/1.0/auth\");\r\n  const buttonEnabled = username && password;\r\n\r\n  return(\r\n    <div className=\"container\">\r\n      <form>\r\n        <h1 className=\"text-center\">{t(\"Login\")}</h1>\r\n        <Input label={t(\"Username\")} \r\n        onChange={(event) => setUsername(event.target.value)} />\r\n        <Input label={t(\"Password\")} type=\"password\" onChange={event => setPassword(event.target.value)} />\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n      </form>\r\n      <div className=\"text-center\">\r\n        <ButtonWithProgress onClick={onClickLogin} disabled={!buttonEnabled || pendingApiCall} pendingApiCall={pendingApiCall} text={t(\"Login\")} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { changeLanguage } from '../api/apiCalls'\r\n\r\nconst LanguageSelector = (props) => {\r\n  const { i18n } = useTranslation();\r\n  const onChangeLanguage = language => {\r\n    i18n.changeLanguage(language);\r\n    changeLanguage(language);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <img src=\"https://www.countryflags.io/tr/flat/24.png\" alt=\"Turkish Flag\" onClick={() => onChangeLanguage(\"tr\")} style={{cursor: 'pointer'}}></img>\r\n      <img src=\"https://www.countryflags.io/us/flat/24.png\" alt=\"USA Flag\" onClick={() => onChangeLanguage(\"en\")} style={{cursor: 'pointer'}}></img>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default LanguageSelector;","export default __webpack_public_path__ + \"static/media/profile.06c30927.png\";","import React from 'react';\r\nimport defaultPicture from \"../assets/profile.png\";\r\n\r\nconst ProfileImageWithDefault = (props) => {\r\n\r\n  const { image, tempimage } = props;\r\n\r\n  let imageSource = defaultPicture;\r\n  if(image) {\r\n    imageSource = \"images/profile/\" + image;\r\n  }\r\n\r\n  return (\r\n    <img alt={`Profile`}\r\n    src={tempimage || imageSource} {...props}\r\n    onError={(event) => {\r\n      event.target.src = defaultPicture;\r\n    }} />\r\n  );\r\n};\r\n\r\nexport default ProfileImageWithDefault;","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport ProfileImageWithDefault from \"./ProfileImageWithDefault\";\r\n\r\nconst UserListItem = (props) => {\r\n  const { user } = props;\r\n  const { username, displayName, image } = user;\r\n\r\n  return (\r\n    <Link to={`/user/${username}`} className=\"list-group-item list-group-item-action\">\r\n      <ProfileImageWithDefault className=\"rounded-circle\" width=\"32\" height=\"32\" alt={`${username} profile`} image={image} />\r\n      <span className=\"ps-2\">\r\n        {displayName}@{username}\r\n      </span>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default UserListItem;","import React from 'react';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"d-flex justify-content-center\">\r\n      <div className=\"spinner-border text-black-50\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;","import React, { useEffect, useState } from 'react';\r\nimport { getUsers } from \"../api/apiCalls\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport UserListItem from './UserListItem';\r\nimport { useApiProgress } from \"../shared/ApiProgress\";\r\nimport Spinner from './Spinner';\r\n\r\nconst UserList = () => {\r\n\r\n  const [page, setPage] = useState({\r\n    content: [],\r\n    size: 3,\r\n    number: 0\r\n  });\r\n\r\n  const [loadFailure, setLoadFailure] = useState(false);\r\n\r\n  const pendingApiCall = useApiProgress(\"get\", \"/api/1.0/users?page\");\r\n\r\n  useEffect(() => {\r\n    loadUsers();\r\n  }, []);\r\n\r\n  const onClickNext = () => {\r\n    const nextPage = page.number + 1;\r\n    loadUsers(nextPage);\r\n  }\r\n\r\n  const onClickPrevious = () => {\r\n    const previousPage = page.number - 1;\r\n    loadUsers(previousPage);\r\n  }\r\n\r\n  const loadUsers = async page => {\r\n    setLoadFailure(false);\r\n    try {\r\n      const response = await getUsers(page);\r\n      setPage(response.data);\r\n    } catch (error) {\r\n      setLoadFailure(true);\r\n    }\r\n  };\r\n\r\n  const { t } = useTranslation();\r\n  const { content: users, last, first } = page;\r\n\r\nlet actionDiv = (\r\n  <div>\r\n    {first === false && <button className=\"btn btn-sm btn-light\" onClick={onClickPrevious}>{t(\"Previous\")}</button>}\r\n    {last === false && <button className=\"btn btn-sm btn-light float-end\" onClick={onClickNext}>{t(\"Next\")}</button>}\r\n  </div>\r\n);\r\n\r\nif (pendingApiCall) {\r\n  actionDiv = (\r\n    <Spinner />\r\n  );\r\n}\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h3 className=\"card-header text-center\">{t(\"Users\")}</h3>\r\n      <div className=\"list-group-flush\">\r\n        {users.map(user => (\r\n          <UserListItem key={user.username} user={user} />\r\n        ))}\r\n      </div>\r\n      {actionDiv}\r\n      {loadFailure && <div className=\"text-center text-danger\">{t(\"Load Failure\")}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserList;\r\n","import React from 'react';\r\nimport \"./AutoUploadImage.css\";\r\n\r\nconst AutoUploadImage = ({ image, uploading }) => {\r\n  return (\r\n    <div style={{position: \"relative\"}}>\r\n      <img className=\"img-thumbnail\" src={image} alt=\"hoax-attachment\" />\r\n      <div className=\"overlay\" style={{opacity: uploading ? 1 : 0}}>\r\n        <div className=\"d-flex justify-content-center h-100\">\r\n          <div className=\"spinner-border text-light m-auto\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoUploadImage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useSelector } from 'react-redux';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { postHost, postHoaxAttachment } from '../api/apiCalls';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport Input from \"./Input\";\r\nimport AutoUploadImage from './AutoUploadImage';\r\n\r\nconst HoaxSubmit = () => {\r\n  const { image } = useSelector((store) => ({image: store.image}));\r\n  const [focused, setFocused] = useState(false);\r\n  const [hoax, setHoax] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n  const [newImage, setNewImage] = useState();\r\n  const [attachmentId, setAttachmentId] = useState();\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    if(!focused) {\r\n      setHoax(\"\");\r\n      setErrors(\"\");\r\n      setNewImage();\r\n      setAttachmentId();\r\n    }\r\n  }, [focused]);\r\n\r\n  useEffect(() => {\r\n    setErrors({});\r\n  }, [hoax]);\r\n\r\n  const pendingApiCall = useApiProgress(\"post\", \"/api/1.0/hoaxes\", true);\r\n  const pendingFileUpload = useApiProgress(\"post\", \"/api/1.0/hoax-attachments\", true);\r\n\r\n  const onClickHoaxify = async () => {\r\n    const body = {\r\n      content: hoax,\r\n      attachmentId: attachmentId\r\n    }\r\n    try {\r\n      await postHost(body);\r\n      setFocused(false);\r\n    } catch (error) {\r\n      if(error.response.data.validationErrors){\r\n        setErrors(error.response.data.validationErrors);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onChangeFile = (event) => {\r\n    if(event.target.files.length < 1) {\r\n      return;\r\n    }\r\n    const file = event.target.files[0];\r\n    const fileReader = new FileReader();\r\n    fileReader.onloadend = () => {\r\n      setNewImage(fileReader.result);\r\n      uploadFile(file);\r\n    }\r\n    fileReader.readAsDataURL(file);\r\n  }\r\n\r\n  const uploadFile = async (file) => {\r\n    const attachment = new FormData();\r\n    attachment.append(\"file\", file);\r\n    const response = await postHoaxAttachment(attachment);\r\n    setAttachmentId(response.data.id);\r\n  }\r\n\r\n  let textAreaClass = \"form-control\";\r\n  if(errors.content) {\r\n    textAreaClass += \" is-invalid\";\r\n  }\r\n  \r\n  return (\r\n    <div className=\"card p-1 flex-row\">\r\n      <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle me-1\" />\r\n      <div className=\"flex-fill\">\r\n        <textarea \r\n          className={textAreaClass} \r\n          rows={focused ? \"3\" : \"1\"} \r\n          onFocus={() => setFocused(true)} \r\n          onChange={(event) => setHoax(event.target.value)} \r\n          value={hoax} />\r\n        <div className=\"invalid-feedback\">{errors.content}</div>\r\n        {focused && \r\n          <>\r\n            {!newImage && <Input type=\"file\" onChange={onChangeFile} />}\r\n            {newImage && <AutoUploadImage image={newImage} uploading={pendingFileUpload} />}\r\n            <div className=\"text-end mt-1\">\r\n              <ButtonWithProgress \r\n                className=\"btn btn-primary\" \r\n                onClick={onClickHoaxify} \r\n                text=\"Hoaxify\" \r\n                pendingApiCall={pendingApiCall} \r\n                disabled={pendingApiCall || pendingFileUpload} />\r\n              <button className=\"btn btn-light d-inline-flex ms-1\" onClick={() => setFocused(false)} disabled={pendingApiCall || pendingFileUpload} >\r\n                <i className=\"material-icons\">close</i>\r\n                {t(\"Cancel\")}\r\n              </button>\r\n            </div>\r\n          </>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HoaxSubmit;","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\n\r\nconst Modal = (props) => {\r\n  const { visible, onClickCancel, message, onClickOk, pendingApiCall, onClickOkText, title } = props;\r\n  const { t } = useTranslation();\r\n\r\n  let className = \"modal fade\";\r\n  if(visible) {\r\n    className += \" show d-block\";\r\n  }\r\n\r\n  return (\r\n    <div className={className} style={{backgroundColor: \"#000000b0\"}}>\r\n      <div className=\"modal-dialog\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">{title}</h5>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {message}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={onClickCancel} disabled={pendingApiCall}>{t(\"Cancel\")}</button>\r\n            <ButtonWithProgress className=\"btn btn-danger\" onClick={onClickOk} text={onClickOkText} pendingApiCall={pendingApiCall} disabled={pendingApiCall} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;","import React, { useState } from 'react';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { Link } from 'react-router-dom';\r\nimport { format } from \"timeago.js\"\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useSelector } from 'react-redux';\r\nimport { deleteHoax } from '../api/apiCalls';\r\nimport Modal from './Modal';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\n\r\nconst HoaxView = (props) => {\r\n  const loggedInUser = useSelector(store => store.username);\r\n  const { hoax, onDeleteHoax } = props;\r\n  const { user, content, timestamp, fileAttachment, id } = hoax;\r\n  const { username, displayName, image } = user;\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n\r\n  const pendingApiCall = useApiProgress(\"delete\", `/api/1.0/hoaxes/${id}`, true);\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const onClickDelete = async () => {\r\n    await deleteHoax(id);\r\n    onDeleteHoax(id);\r\n  };\r\n\r\n  const onClickCancel = () => {\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const formatted = format(timestamp, i18n.language);\r\n\r\n  const ownedByLoggedInUser = loggedInUser === username;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card p-1\">\r\n        <div className=\"d-flex\">\r\n          <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle m-1\" />\r\n          <div className=\"flex-fill m-auto ps-2\">\r\n            <Link to={`/user/${username}`} className=\"text-dark text-decoration-none\">\r\n              <h6 className=\"d-inline\">{displayName}@{username}</h6>\r\n              <span> - </span>\r\n              <span>{formatted}</span>\r\n            </Link>\r\n          </div>\r\n          {ownedByLoggedInUser && <button className=\"btn btn-delete-link btn-sm\" onClick={() => setModalVisible(true)}>\r\n            <i className=\"material-icons\">delete_outline</i>\r\n          </button>}\r\n        </div>\r\n        <div className=\"ps-5\">\r\n          {content}\r\n        </div>\r\n        {fileAttachment && (\r\n          <div className=\"ps-5\">\r\n            {fileAttachment.fileType.startsWith(\"image\") && (\r\n              <img className=\"img-fluid\" src={\"images/attachments/\" + fileAttachment.name} alt={content} />\r\n            )}\r\n            {!fileAttachment.fileType.startsWith(\"image\") && (\r\n              <strong>Hoax has unknown attachment</strong>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Modal \r\n        visible={modalVisible}\r\n        onClickCancel={onClickCancel}\r\n        onClickOk={onClickDelete}\r\n        message={\r\n          <div>\r\n            <div>\r\n              <strong>{t(\"Are you sure to delete hoax?\")}</strong>\r\n            </div>\r\n            <span>{content}</span>\r\n          </div>\r\n        }\r\n        pendingApiCall={pendingApiCall}\r\n        onClickOkText={t(\"Delete Hoax\")}\r\n        title={t(\"Delete Hoax\")}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HoaxView;","import React, { useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useParams } from 'react-router';\r\nimport { getHoaxes, getNewHoaxCount, getNewHoaxes, getOldHoaxes } from \"../api/apiCalls\";\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport HoaxView from './HoaxView';\r\nimport Spinner from './Spinner';\r\n\r\nconst HoaxFeed = () => {\r\n  const [hoaxPage, setHoaxPage] = useState({content: [], last: true, number: 0});\r\n  const [newHoaxCount, setNewHoaxCount] = useState(0);\r\n  const { t } = useTranslation();\r\n  const { username } = useParams();\r\n  \r\n  const path = username ? `/api/1.0/users/${username}/hoaxes?page=` : \"/api/1.0/hoaxes?page=\";\r\n  const initialHoaxLoadProgress = useApiProgress(\"get\", path);\r\n  \r\n  let lastHoaxId = 0;\r\n  let firstHoaxId = 0;\r\n  if(hoaxPage.content.length > 0) {\r\n    \r\n    firstHoaxId = hoaxPage.content[0].id;\r\n\r\n    const lastHoaxIndex = hoaxPage.content.length - 1;\r\n    lastHoaxId = hoaxPage.content[lastHoaxIndex].id;\r\n  }\r\n  const oldHoaxPath = username ? `/api/1.0/users/${username}/hoaxes/${lastHoaxId}` : `/api/1.0/hoaxes/${lastHoaxId}`;\r\n  const loadOldHoaxesProgress = useApiProgress(\"get\", oldHoaxPath, true);\r\n\r\n  const newHoaxPath = username ? `/api/1.0/users/${username}/hoaxes/${firstHoaxId}?direction=after` : `/api/1.0/hoaxes/${firstHoaxId}?direction=after`;\r\n  const loadNewHoaxesProgress = useApiProgress(\"get\", newHoaxPath, true);\r\n  \r\n  useEffect(() => {\r\n    const getCount = async () => {\r\n      const response = await getNewHoaxCount(firstHoaxId, username);\r\n      setNewHoaxCount(response.data.count);\r\n    }\r\n    let looper = setInterval(getCount, 3000);\r\n    return function cleanup() {\r\n      clearInterval(looper);\r\n    }\r\n  }, [firstHoaxId, username]);\r\n\r\n  useEffect(() => {\r\n    const loadHoaxes = async (page) => {\r\n      try {\r\n        const response = await getHoaxes(username, page);\r\n        setHoaxPage(previousHoaxPage => ({\r\n          ...response.data,\r\n          content: [...previousHoaxPage.content, ...response.data.content]\r\n        }));\r\n      } catch (error) {\r\n        \r\n      }\r\n    };\r\n    loadHoaxes();\r\n  }, [username]);\r\n\r\n  const loadOldHoaxes = async () => {\r\n    const response = await getOldHoaxes(lastHoaxId, username);\r\n    setHoaxPage(previousHoaxPage => ({\r\n      ...response.data,\r\n      content: [...previousHoaxPage.content, ...response.data.content]\r\n    }));\r\n  }\r\n\r\n  const loadNewHoaxes = async () => {\r\n    const response = await getNewHoaxes(firstHoaxId, username);\r\n    setHoaxPage(previousHoaxPage => ({\r\n      ...previousHoaxPage,\r\n      content: [...response.data, ...previousHoaxPage.content]\r\n    }));\r\n    setNewHoaxCount(0);\r\n  }\r\n\r\n  const onDeleteHoaxSuccess = id => {\r\n    setHoaxPage(previousHoaxPage => ({\r\n      ...previousHoaxPage,\r\n      content:previousHoaxPage.content.filter(hoax => hoax.id !== id)\r\n    }));\r\n  };\r\n\r\n  const { content, last } = hoaxPage;\r\n\r\n  if(content.length === 0) {\r\n    return <div className=\"alert alert-secondary text-center\">{initialHoaxLoadProgress ? <Spinner /> : t(\"There are no hoaxes\")}</div>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {newHoaxCount > 0 && (\r\n        <div \r\n          className=\"alert alert-secondary text-center mb-1\"\r\n          onClick={loadNewHoaxesProgress ? () => {} : loadNewHoaxes} \r\n          style={{cursor: loadNewHoaxesProgress ? \"not-allowed\" : \"pointer\"}}\r\n        >\r\n          {loadNewHoaxesProgress ? <Spinner /> : t(\"There are new hoaxes\")}\r\n        </div>\r\n      )}\r\n      {content.map(hoax => {\r\n        return <HoaxView key={hoax.id} hoax={hoax} onDeleteHoax={onDeleteHoaxSuccess} />\r\n      })}\r\n      {!last && (\r\n        <div \r\n          className=\"alert alert-secondary text-center\" \r\n          onClick={loadOldHoaxesProgress ? () => {} : loadOldHoaxes} \r\n          style={{cursor: loadOldHoaxesProgress ? \"not-allowed\" : \"pointer\"}}>\r\n          {loadOldHoaxesProgress ? <Spinner /> : t(\"Load old hoaxes\")}\r\n      </div>)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HoaxFeed;","import React from 'react';\r\nimport UserList from '../components/UserList';\r\nimport HoaxSubmit from '../components/HoaxSubmit';\r\nimport { useSelector } from 'react-redux';\r\nimport HoaxFeed from '../components/HoaxFeed';\r\n\r\nconst HomePage = () => {\r\n  const { isLoggedIn } = useSelector((store) => ({isLoggedIn: store.isLoggedIn}));\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          {isLoggedIn && <div className=\"mb-1\"><HoaxSubmit /></div> }\r\n          <HoaxFeed />\r\n        </div>\r\n        <div className=\"col\">\r\n          <UserList />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;","import React, { useEffect, useState } from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport ProfileImageWithDefault from \"./ProfileImageWithDefault\";\r\nimport { useTranslation } from 'react-i18next';\r\nimport Input from \"./Input\";\r\nimport { deleteUser, updateUser } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport ButtonWithProgress from \"./ButtonWithProgress\";\r\nimport { logoutSuccess, updateSuccess } from \"../redux/authActions\";\r\nimport Modal from './Modal';\r\n\r\nconst ProfileCard = (props) => {\r\n  const [inEditMode, setInEditMode] = useState(false);\r\n  const [updatedDisplayName, setUpdatedDisplayName] = useState();\r\n  const { username: loggedInUsername } = useSelector((store) => ({username: store.username}));\r\n  const routeParams = useParams();\r\n  const pathUsername = routeParams.username;\r\n  const [user, setUser] = useState({});\r\n  const [editable, setEditable] = useState();\r\n  const [newImage, setNewImage] = useState();\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  \r\n  useEffect(() => {\r\n    setUser(props.user);\r\n  }, [props.user]);\r\n\r\n  useEffect(() => {\r\n    setEditable(pathUsername === loggedInUsername);\r\n  }, [pathUsername, loggedInUsername]);\r\n\r\n  useEffect(() => {\r\n    setValidationErrors((previousValidationErrors) => ({\r\n      ...previousValidationErrors,\r\n      displayName: undefined\r\n    }));\r\n  }, [updatedDisplayName]);\r\n\r\n  useEffect(() => {\r\n    setValidationErrors((previousValidationErrors) => ({\r\n      ...previousValidationErrors,\r\n      image: undefined\r\n    }));\r\n  }, [newImage]);\r\n  \r\n  const { t } = useTranslation();\r\n\r\n  const { username, displayName, image} = user;\r\n\r\n  const pendingApiCallDeleteUser = useApiProgress(\"delete\", `/api/1.0/users/${username}`, true);\r\n  \r\n  useEffect(() => {\r\n    if(!inEditMode) {\r\n      setUpdatedDisplayName(undefined);\r\n      setNewImage(undefined);\r\n    } else {\r\n      setUpdatedDisplayName(displayName);\r\n    }\r\n  }, [inEditMode, displayName])\r\n  \r\n  const onClickSave = async () => {\r\n    let image;\r\n    if(newImage) {\r\n      image = newImage.split(\",\")[1];\r\n    }\r\n    const body = {\r\n      displayName: updatedDisplayName,\r\n      image\r\n    }\r\n    try {\r\n      const response = await updateUser(username, body);\r\n      setInEditMode(false);\r\n      setUser(response.data);\r\n      dispatch(updateSuccess(response.data));\r\n    } catch (error) {\r\n      setValidationErrors(error.response.data.validationErrors);\r\n    }\r\n  };\r\n  \r\n  const onClickDelete = async () => {\r\n    const body = {\r\n      displayName,\r\n      image: undefined\r\n    }\r\n    try {\r\n      const response = await updateUser(username, body);\r\n      setUser(response.data);\r\n      dispatch(updateSuccess(response.data));\r\n    } catch (error) {\r\n    }\r\n    setNewImage(undefined)\r\n  };\r\n  \r\n  const onChangeFile = (event) => {\r\n    if(event.target.files.length < 1) {\r\n      return;\r\n    }\r\n    const file = event.target.files[0];\r\n    const fileReader = new FileReader();\r\n    fileReader.onloadend = () => {\r\n      setNewImage(fileReader.result);\r\n    }\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n\r\n  const onClickCancel = () => {\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const onClickDeleteUser = async () => {\r\n    await deleteUser(username);\r\n    setModalVisible(false);\r\n    dispatch(logoutSuccess());\r\n    history.push(\"/\");\r\n  }\r\n  \r\n  const pendingApiCall = useApiProgress(\"put\", \"/api/1.0/users/\"+username);\r\n  \r\n  const { displayName: displayNameError, image: imageError } = validationErrors;\r\n  \r\n  return (\r\n    <div className=\"card text-center\">\r\n      <div className=\"card-header\">\r\n        <ProfileImageWithDefault\r\n          className=\"rounded-circle shadow\"\r\n          width=\"200\" height=\"200\"\r\n          alt={`${username} profile`}\r\n          image={image}\r\n          tempimage={newImage}\r\n        />\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {!inEditMode && (\r\n          <>\r\n            <h3>\r\n              {displayName}@{username}\r\n            </h3>\r\n            {editable && (\r\n              <>\r\n                <button className=\"btn btn-success d-inline-flex\" onClick={() => setInEditMode(true)}>\r\n                  <i className=\"material-icons\">edit</i>\r\n                  {t(\"Edit\")}\r\n                </button>\r\n                <button className=\"btn btn-danger d-inline-flex ms-1\" onClick={onClickDelete}>\r\n                  <i className=\"material-icons\">delete</i>\r\n                  {t(\"Delete Profil Image\")}\r\n                </button>\r\n                <div className=\"pt-2\">\r\n                  <button className=\"btn btn-danger d-inline-flex\" onClick={() => setModalVisible(true)}>\r\n                    <i className=\"material-icons\">directions_run</i>\r\n                    {t(\"Delete My Account\")}\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </>\r\n          )}\r\n          {inEditMode && (\r\n            <div>\r\n              <Input\r\n                label={t(\"Change Display Name\")}\r\n                defaultValue={displayName}\r\n                onChange={(event) => {setUpdatedDisplayName(event.target.value)}}\r\n                error={displayNameError}\r\n              />\r\n              <Input type=\"file\" onChange={onChangeFile} error={imageError} />\r\n              <div className=\"button-group\">\r\n                <ButtonWithProgress\r\n                  className=\"btn btn-primary d-inline-flex\"\r\n                  onClick={onClickSave}\r\n                  disabled={pendingApiCall} \r\n                  pendingApiCall={pendingApiCall} \r\n                  text={\r\n                    <>\r\n                      <i className=\"material-icons\">save</i>\r\n                      {t(\"Save\")}\r\n                    </> \r\n                  } \r\n                />\r\n                <button\r\n                  className=\"btn btn-light d-inline-flex ms-1\"\r\n                  onClick={() => setInEditMode(false)}\r\n                  disabled={pendingApiCall}\r\n                >\r\n                  <i className=\"material-icons\">close</i>\r\n                  {t(\"Cancel\")}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n      </div>\r\n      <Modal\r\n        visible={modalVisible}\r\n        onClickCancel={onClickCancel}\r\n        onClickOk={onClickDeleteUser}\r\n        message={t(\"Are you sure to delete your account?\")}\r\n        pendingApiCall={pendingApiCallDeleteUser}\r\n        onClickOkText={t(\"Delete My Account\")}\r\n        title={t(\"Delete My Account\")}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default ProfileCard;","import React, { useEffect, useState } from 'react';\r\nimport ProfileCard from '../components/ProfileCard';\r\nimport { getUser } from '../api/apiCalls';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useApiProgress } from \"../shared/ApiProgress\";\r\nimport Spinner from '../components/Spinner';\r\nimport HoaxFeed from '../components/HoaxFeed';\r\n\r\nconst UserPage = () => {\r\n  const [user, setUser] = useState({});\r\n  const [notFound, setNotFound] = useState(false);\r\n\r\n  const { username } = useParams();\r\n  \r\n  const { t } = useTranslation();\r\n\r\n  const pendingApiCall = useApiProgress(\"get\", \"/api/1.0/users/\" + username, true);\r\n\r\n  useEffect(() => {\r\n    setNotFound(false);\r\n  }, [user])\r\n\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      try {\r\n        const response = await getUser(username);\r\n        setUser(response.data);\r\n      } catch (error) {\r\n        setNotFound(true);   \r\n      }\r\n    }\r\n    loadUser();\r\n  }, [username]);\r\n  \r\n  if(notFound) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"alert alert-danger text-center\">\r\n          <div>\r\n            <i className=\"material-icons\" style={{fontSize: '48px'}}>error</i>\r\n          </div>\r\n          {t(\"User not found\")}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (pendingApiCall || user.username !== username) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <ProfileCard user={user}/>\r\n        </div>\r\n        <div className=\"col\">\r\n          <HoaxFeed />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPage;","export default __webpack_public_path__ + \"static/media/hoaxify.e76cb420.png\";","import React, { useEffect, useRef, useState } from 'react';\r\nimport logo from \"../assets/hoaxify.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logoutSuccess } from \"../redux/authActions\";\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\n\r\nconst TopBar = (props) => {\r\n  const { t } = useTranslation();\r\n  \r\n  const { username, isLoggedIn, displayName, image } = useSelector((store) => {\r\n    return {\r\n      isLoggedIn: store.isLoggedIn,\r\n      username: store.username,\r\n      displayName: store.displayName,\r\n      image: store.image\r\n    };\r\n  });\r\n\r\n  const menuArea = useRef(null);\r\n\r\n  const [menuVisible, setMenuVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", menuClickTracker);\r\n    return () => {\r\n      document.removeEventListener(\"click\", menuClickTracker);\r\n    };\r\n  }, [isLoggedIn]);\r\n\r\n  const menuClickTracker = (event) => {\r\n    if(menuArea.current === null || !menuArea.current.contains(event.target)) {\r\n      setMenuVisible(false);\r\n    }\r\n  }\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onLogoutSuccess = () => {\r\n    dispatch(logoutSuccess());\r\n  };\r\n\r\n  let links = (\r\n    <ul className=\"navbar-nav ms-auto\">\r\n      <li>\r\n        <Link className=\"nav-link\" to=\"/login\">\r\n          {t(\"Login\")}\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link className=\"nav-link\" to=\"/signup\">\r\n          {t(\"Sign Up\")}\r\n        </Link>\r\n      </li> \r\n    </ul>);\r\n  if(isLoggedIn) {\r\n    let dropDownClass = \"dropdown-menu p-0 shadow\";\r\n    if(menuVisible) {\r\n      dropDownClass += \" show\"\r\n    }\r\n    links = (\r\n  <ul className=\"navbar-nav ms-auto\" ref={menuArea}>\r\n    <li className=\"nav-item dropdown\">\r\n      <div className=\"d-flex\" style={{cursor: 'pointer'}} onClick={() => {setMenuVisible(true)}}>\r\n        <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle m-auto\"/>\r\n        <span className=\"nav-link dropdown-toggle\">{displayName}</span>\r\n      </div>\r\n      <div className={dropDownClass}>\r\n        <Link className=\"dropdown-item d-flex p-2\" to={`/user/${username}`} onClick={() => setMenuVisible(false)}>\r\n          <i className=\"material-icons text-info me-2\">person</i>\r\n          {t(\"My Profile\")}\r\n        </Link>\r\n        <span className=\"dropdown-item d-flex p-2\" style={{cursor: 'pointer'}} onClick={onLogoutSuccess}>\r\n        <i className=\"material-icons text-danger me-2\">power_settings_new</i>\r\n          {t(\"Logout\")}\r\n        </span>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"shadow-sm bg-light mb-2\">\r\n      <nav className=\"navbar navbar-light container navbar-expand\">\r\n        <Link className=\"navbar-brand\" to=\"/\">\r\n          <img src={logo} width=\"60\" alt=\"Hoaxify Logo\" />\r\n          Hoaxify\r\n        </Link>\r\n        {links}\r\n        \r\n      </nav>\r\n    </div>\r\n  );           \r\n}\r\n\r\nexport default TopBar;","import React from \"react\";\nimport UserSignupPage from \"../pages/UserSignupPage\";\nimport LoginPage from \"../pages/LoginPage\";\nimport LanguageSelector from \"../components/LanguageSelector\";\nimport HomePage from \"../pages/HomePage\";\nimport UserPage from \"../pages/UserPage\";\nimport { HashRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\nimport TopBar from \"../components/TopBar\";\nimport { useSelector } from \"react-redux\";\n\nconst App = () => {\n  const { isLoggedIn } = useSelector((store) => ({isLoggedIn: store.isLoggedIn}));\n  \n  return (\n    <div>\n      <Router>\n        <TopBar />\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          {!isLoggedIn && <Route path=\"/login\" component={LoginPage} />}\n          <Route path=\"/signup\" component={UserSignupPage} />\n          <Route path=\"/user/:username\" component={UserPage} />\n          <Redirect to=\"/\" />\n        </Switch>\n      </Router>\n      <LanguageSelector/>\n    </div>\n  );\n}\n\nexport default App;\n","import * as ACTIONS from \"./Constants\"\r\n\r\nconst defaultState = {\r\n  isLoggedIn: false,\r\n  username: undefined,\r\n  displayName: undefined,\r\n  image: undefined,\r\n  password: undefined\r\n}\r\n\r\nconst authReducer = (state = { ...defaultState}, action) => {\r\n  if (action.type === ACTIONS.LOGOUT_SUCCESS) {\r\n    return defaultState;\r\n  } else if (action.type === ACTIONS.LOGIN_SUCCESS) {\r\n    return {\r\n      ...action.payload,\r\n      isLoggedIn: true\r\n    };\r\n  } else if (action.type === ACTIONS.UPDATE_SUCCESS) {\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    };\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default authReducer;","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport authReducer from './authReducer';\r\nimport SecureLS from 'secure-ls';\r\nimport thunk from 'redux-thunk';\r\nimport { setAuthorizationHeader } from '../api/apiCalls';\r\n\r\nconst secureLs = new SecureLS();\r\n\r\nconst getStateFromStorage = () => {\r\n  const hoaxAuth = secureLs.get(\"hoax-auth\");\r\n  \r\n  let stateInLocalStorage = {\r\n    isLoggedIn: false,\r\n    username: undefined,\r\n    displayName: undefined,\r\n    image: undefined,\r\n    password: undefined\r\n  }\r\n  \r\n  if(hoaxAuth) {\r\n    return hoaxAuth;\r\n  }\r\n  return stateInLocalStorage;\r\n}\r\n\r\nconst updateStateInStorage = newState => {\r\n  secureLs.set(\"hoax-auth\", newState);\r\n};\r\n\r\nconst configureStore = () => {\r\n  const initialState = getStateFromStorage();\r\n  setAuthorizationHeader(initialState);\r\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n  const store = createStore(authReducer, initialState, composeEnhancers(applyMiddleware(thunk)));\r\n\r\n  store.subscribe(() => {\r\n    updateStateInStorage(store.getState());\r\n    setAuthorizationHeader(store.getState());\r\n  });\r\n\r\n  return store;\r\n} \r\n\r\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap-override.scss';\nimport reportWebVitals from './reportWebVitals';\nimport './i18n';\nimport App from \"./container/App\";\nimport { Provider } from \"react-redux\";\nimport configureStore from './redux/configureStore';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}